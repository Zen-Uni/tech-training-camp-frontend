(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{238:function(n,e,t){"use strict";t.r(e);var r,o,i,a,c,s,l,u,d,p,b,h,x=t(0),f=t(26),g=t.n(f),j=t(51),m=t(15),v=t(7),O=t.n(v),w=t(13),k="edit_update",y="user_config",N=function(n){return{type:k,text:n}},S=function(n){return{type:y,username:n}},C=t(245),E=t(135),_=t(11),I=t(12),L=t.p+"static/media/avatar.10f819e4.jpg";console.log(L);var T=I.a.div(r||(r=Object(_.a)(["\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    /* background-color: black; */\n    overflow: hidden;\n    box-sizing: border-box;\n    min-width: 1000px;\n"]))),z=I.a.div(o||(o=Object(_.a)(["\n    position: relative;\n    height: 60px;\n    width: 100%;\n    /* background-color: pink; */\n    display: flex;\n    align-items: center;\n"]))),A=I.a.div(i||(i=Object(_.a)(["\n    height: 50px;\n    width: 470px;\n    /* background-color: yellow; */\n    position: absolute;\n    left: 50px;\n    /* border-bottom: 2px solid #ccc; */\n\n    & input {\n        position: relative;\n        height: 100%;\n        width: 100%;\n        border: none;\n        outline: none;\n        font-size: 30px;\n        &::placeholder {\n            color: #ccc;\n        }\n    }\n"]))),R=I.a.div(a||(a=Object(_.a)(["\n    height: 50px;\n    width: 470px;\n    position: absolute;\n    right : 50px;\n    /* background-color: pink; */\n    display: flex;\n    align-items: center;\n\n    & .back-button {\n        position: absolute;\n        right: 150px;\n        height: 40px;\n        border-radius: 5px;\n        margin: 0px 20px;\n    }\n\n    & .post-button {\n        position: absolute;\n        height: 40px;\n        border-radius: 5px;\n        margin: 0px 10px;\n        right: 50px;\n    }\n\n    & .avatar {\n        position: absolute;\n        right: 0px;\n        height: 40px;\n        width: 40px;\n        border-radius: 20px;\n        background-position: center center;\n        background-repeat: none;\n        background-image: url(",");\n        background-size: cover;\n    }\n"])),L),q=I.a.div(c||(c=Object(_.a)(["\n    position: absolute;\n    right: 270px;\n    height: 40px;\n    width: 150px;\n    /* background-color: pink; */\n    display: flex;\n    align-items: center;\n    \n\n    & .button-label {\n        font-weight: 600;\n        margin: 0px 10px;\n    }\n\n    & .button-background {\n        position: relative;\n        height: 25px;\n        width: 50px;\n        border-radius: 12.5px;\n        border: 1px solid #ccc;\n        \n        display: flex;\n        align-items: center;\n        cursor: pointer;\n        transition: all .4s ease;\n    }\n\n    & .button-background_unshare {\n        background-color: white;\n        box-shadow: 0px 0px 2px rgba(0, 0, 0, .7);\n    }\n\n    & .button-background_share {\n        background-color: #FFA119;\n        box-shadow: 0px 0px 1px rgba(0, 0, 0, .7);\n    }\n\n    & .button-ball {\n        position: absolute;\n        height: 28px;\n        width: 28px;\n        border: 1px solid #ccc;\n        box-shadow: 3px 0px 3px rgba(0, 0, 0, .1);\n        border-radius: 14px;\n        background-color: white;\n        transition: all .4s ease;\n    }\n\n    & .button-ball_unshare {\n        left: -2px;   \n    }\n\n    & .button-ball_share {\n        left: 27px;   \n    }\n"]))),H=I.a.div(s||(s=Object(_.a)(["\n    position: relative;\n    height: 40px;\n    width: 100%;\n    background-color: #f8f8f8;\n    display: flex;\n    align-items: center;\n    border-bottom: 1px solid #ccc;\n    & .iconfont {\n        margin: 0px 20px;\n        cursor: pointer;\n    }\n"]))),D=I.a.div(l||(l=Object(_.a)(["\n    position: absolute;\n    top: 100px;\n    bottom: 0px;\n    left: 0px;\n    right: 0px;\n    margin: auto;\n    background: #ccc;\n"]))),U=I.a.div(u||(u=Object(_.a)(["\n    position: relative;\n    height: 100%;\n    width: 50%;\n    background-color: #f8f8f8;\n    float: left;\n    overflow: hidden;\n    transition: all .4s ease;\n    border-right: 2px solid #ccc;\n    &.handle_focus {\n        width: 100% !important;\n    }\n\n    &.handle_preview {\n        width: 0%;\n    }\n"]))),F=I.a.div(d||(d=Object(_.a)(["\n    position: relative;\n    height: 100%;\n    background-color: white;\n    overflow: hidden;\n"]))),M=I.a.div(p||(p=Object(_.a)(["\n    position: absolute;\n    height: 30px;\n    width: 100%;\n    bottom: 0px;\n    background-color: white;\n    border-top: 1px solid #ddd;\n\n    /* &.footer-left {\n        border-right: 1px solid #ddd;\n    }\n\n    &.footer-right {\n        border-left: 1px solid #ddd;\n    } */\n\n    & .footer-button {\n        height: 100%;\n        width: 80px;\n        text-align: center;\n        line-height: 30px;\n        font-size: 14px;\n        cursor: pointer;\n    }\n\n    & .footer-button-left {\n        position: absolute;\n        right: 10px;\n    }\n\n    & .footer-button-right {\n        position: absolute;\n        left: 10px;\n    }\n"]))),B=I.a.div(b||(b=Object(_.a)(["\n    position: absolute;\n    top: 0;\n    bottom: 30px;\n    left: 0px;\n    right: 0px;\n    margin: auto;\n    /* background-color: pink; */\n    /* overflow-y: scroll; */\n    outline: none;\n    box-sizing: border-box;\n    overflow-x: hidden;\n    padding: 10px 20px;\n    transition: padding .4s ease;\n    &.content-focus {\n        padding: 30px 150px;\n        /* text-align: center; */\n    }\n\n\n\n    &::-webkit-scrollbar {\n        width: 7px;\n    }\n\n    &::-webkit-scrollbar-thumb {\n        width: 7px;\n        border-radius: 5px;\n        -webkit-box-shadow: inset 0 0 5px rgba(0,0,0,0.1);\n        background: rgba(0,0,0,0.1);\n        /* scrollbar-arrow-color:red; */\n    }\n\n    &::-webkit-scrollbar-track {    /*\u6eda\u52a8\u6761\u91cc\u9762\u8f68\u9053*/\n       \n        /* -webkit-box-shadow: inset 0 0 5px rgba(0,0,0,0.2); */\n        border-radius: 0;\n        background: #eee;\n    }\n"]))),J=I.a.div(h||(h=Object(_.a)(['\n    position: absolute;\n    top: 0;\n    bottom: 30px;\n    left: 0px;\n    right: 0px;\n    margin: auto;\n    outline: none;\n    box-sizing: border-box;\n    overflow-x: hidden;\n    padding: 10px 20px;\n    transition: padding .4s ease;\n    word-wrap: break-word;\n\n\n    &.content-preview {\n        padding: 30px 150px;\n        /* text-align: center; */\n    }\n\n    &::-webkit-scrollbar {\n        width: 7px;\n    }\n\n    &::-webkit-scrollbar-thumb {\n        width: 7px;\n        border-radius: 5px;\n        -webkit-box-shadow: inset 0 0 5px rgba(0,0,0,0.1);\n        background: rgba(0,0,0,0.1);\n\n    }\n\n    &::-webkit-scrollbar-track {    \n        border-radius: 0;\n        background: #eee;\n    }\n\n    & blockquote {\n        background-color: #f3f3f3;\n        border-radius: 5px;\n        box-sizing: border-box;\n        padding: 20px 0px 15px 30px;\n        display: block;\n    }\n\n    & hr {\n        width: 100%;\n        height: 2px;\n        background-color: #f4f4f4;\n        border: none;\n        margin-top: 20px;\n        margin-bottom: 20px;\n    }\n\n    & .code {\n        background-color: yellow;\n    }\n\n    & .code-block {\n        background-color: rgba(0,0,0,0.8);\n        margin: auto;\n        width: 80%;\n        line-height: 40px;\n        padding: 20px 20px 10px 20px;\n        border-radius: 5px;\n        font-family: "STHeiti";\n        color: white;\n    }\n\n']))),V=t(19),W=t(1);var K=Object(V.b)(null,(function(n){return{updateEdit:function(e){var t=N(e);n(t)}}}))((function(n){var e=n.editFocus,t=n.updateEdit,r=n.editContent,o=Object(x.useRef)(null);return Object(W.jsx)(B,{contentEditable:"true",className:e?"content-focus":"",onKeyUp:function(n){var e=o.current.innerText;if(9===n.keyCode){n.preventDefault();var i=n.view.getSelection().getRangeAt(0),a=i.startOffset,c=document.createElement("span");c.innerHTML="&nbsp;&nbsp;&nbsp;";var s=document.createRange();s.setStart(i.startContainer,a),s.setEnd(i.startContainer,a),s.collapse(!0),s.insertNode(c),n.view.getSelection().removeAllRanges(),n.view.getSelection().addRange(i),i.setStart(c,1),i.setEnd(c,1),console.log(e)}r(e),t(e)},onKeyDown:function(n){9===n.keyCode&&n.preventDefault()},ref:o,id:"contentEl"})}));var P=Object(V.b)((function(n){return{content:n.editContent}}),null)((function(n){var e=n.preview,t=n.content,r=Object(x.useRef)(null);return Object(x.useEffect)((function(){r.current.innerHTML=""===t?null:t})),Object(W.jsx)(J,{className:e?"content-preview":"",ref:r})}));var X=function(n){var e=n.share,t=n.handleShare;return Object(x.useEffect)((function(){e?C.b.success("\u6587\u7ae0\u5171\u4eab\u5f00\u542f",1):C.b.success("\u6587\u7ae0\u5171\u4eab\u5173\u95ed",1)}),[e]),Object(W.jsxs)(q,{children:[Object(W.jsx)("div",{className:"button-label",children:"\u5171\u4eab\u6587\u7ae0:"}),Object(W.jsx)("div",{className:"button-background "+(e?"button-background_share":"button-background_unshare"),onClick:t,children:Object(W.jsx)("div",{className:"button-ball "+(e?"button-ball_share":"button-ball_unshare")})})]})},Q=t(69),Y=t(70),G=function(){function n(e){Object(Q.a)(this,n),this.text=e,this.heading=this.heading.bind(this),this.em=this.em.bind(this),this.quote=this.quote.bind(this),this.strong=this.strong.bind(this),this.code=this.code.bind(this),this.codeBlock=this.codeBlock.bind(this),this.link=this.link.bind(this),this.pic=this.pic.bind(this)}return Object(Y.a)(n,[{key:"handleSite",value:function(n){n.preventDefault();var e=window.getSelection(),t=e.getRangeAt(0);return console.log(t.startOffset),console.log(t.endOffset),{range:t,selection:e}}},{key:"handleAdd",value:function(n,e){var t=this.handleSite(n),r=t.range,o=t.selection;r.deleteContents();var i=document.createElement("div");i.innerHTML=e;for(var a,c,s=document.createDocumentFragment();a=i.firstChild;)c=s.appendChild(a);r.insertNode(s),c&&((r=r.cloneRange()).setStartAfter(c),r.collapse(!0),o.removeAllRanges(),o.addRange(r))}},{key:"heading",value:function(n){this.handleAdd(n,"#&nbsp;")}},{key:"em",value:function(n){this.handleAdd(n,"*\u659c\u4f53*")}},{key:"quote",value:function(n){this.handleAdd(n,">&nbsp;")}},{key:"strong",value:function(n){this.handleAdd(n,"**\u7c97\u4f53**")}},{key:"code",value:function(n){this.handleAdd(n,"`\u4ee3\u7801`")}},{key:"codeBlock",value:function(n){this.handleAdd(n,"```<br/>```")}},{key:"link",value:function(n){this.handleAdd(n,"[]()")}},{key:"pic",value:function(n){this.handleAdd(n,"![]()")}}]),n}(),Z=[{icon:"icon-header",fn:"heading"},{icon:"icon-qingxie",fn:"em"},{icon:"icon-jiacu",fn:"strong"},{icon:"icon-yinyong",fn:"quote"},{icon:"icon-code",fn:"code"},{icon:"icon-kuohaobrackets",fn:"codeBlock"},{icon:"icon-link-fill",fn:"link"},{icon:"icon-tupian",fn:"pic"}],$=t(55),nn=t.n($),en="BYTEDANCE_LCH",tn=function(n){window.localStorage.setItem(en,n)},rn=function(){var n=window.localStorage.getItem(en);console.log(n),n&&nn.a.interceptors.request.use((function(e){return e.headers.Authorization="Bearer ".concat(n),e}))};var on,an="http://60.205.230.224:4000/",cn=(on="http://60.205.230.224:4000/api",function(n,e,t){return new Promise((function(r,o){"get"===n&&nn.a.get(on+e).then((function(n){r(n.data)})),"post"===n&&nn.a.post(on+e,t).then((function(n){r(n.data)}))}))});function sn(n){return ln.apply(this,arguments)}function ln(){return(ln=Object(w.a)(O.a.mark((function n(e){var t;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,cn("post","/user/login",e);case 2:return t=n.sent,n.abrupt("return",t);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function un(n){return dn.apply(this,arguments)}function dn(){return(dn=Object(w.a)(O.a.mark((function n(e){var t;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,cn("post","/user/captcha",e);case 2:return t=n.sent,n.abrupt("return",t);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function pn(n){return bn.apply(this,arguments)}function bn(){return(bn=Object(w.a)(O.a.mark((function n(e){var t;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,cn("post","/user/register",e);case 2:return t=n.sent,n.abrupt("return",t);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function hn(){return xn.apply(this,arguments)}function xn(){return(xn=Object(w.a)(O.a.mark((function n(){var e;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,cn("get","/user/token");case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function fn(n){return gn.apply(this,arguments)}function gn(){return(gn=Object(w.a)(O.a.mark((function n(e){var t;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,cn("post","/user/post-article",e);case 2:return t=n.sent,n.abrupt("return",t);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function jn(){return mn.apply(this,arguments)}function mn(){return(mn=Object(w.a)(O.a.mark((function n(){var e;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,cn("get","/user/article-list");case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function vn(n){return On.apply(this,arguments)}function On(){return(On=Object(w.a)(O.a.mark((function n(e){var t;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,cn("post","/user/article-detail",{id:e});case 2:return t=n.sent,n.abrupt("return",t);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function wn(n){return kn.apply(this,arguments)}function kn(){return(kn=Object(w.a)(O.a.mark((function n(e){var t;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,cn("post","/user/article-update",e);case 2:return t=n.sent,n.abrupt("return",t);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function yn(){return Nn.apply(this,arguments)}function Nn(){return(Nn=Object(w.a)(O.a.mark((function n(){var e;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,cn("get","/user/avatar");case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function Sn(n){return Cn.apply(this,arguments)}function Cn(){return(Cn=Object(w.a)(O.a.mark((function n(e){var t;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,cn("post","/img/avatar",e);case 2:return t=n.sent,n.abrupt("return",t);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var En=t(10);var _n,In=Object(V.b)((function(n){return{User:n.username}}),(function(n){return{update:function(e){var t=N(e);n(t)}}}))((function(n){var e=Object(En.f)();Object(x.useEffect)((function(){function n(){return(n=Object(w.a)(O.a.mark((function n(){var t,r,o,i;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,hn();case 2:if(t=n.sent,r=t.code,o=t.data,1!==r){n.next=9;break}C.b.warning(o.msg,1,(function(){e.replace("/")})),n.next=13;break;case 9:return n.next=11,yn();case 11:""!==(i=n.sent).data.url&&(document.querySelector(".avatar").style.backgroundImage="url(".concat(an+i.data.url,")"));case 13:case"end":return n.stop()}}),n)})))).apply(this,arguments)}rn(),function(){n.apply(this,arguments)}()}),[]);var t=n.update,r=n.User,o=Object(x.useState)(!1),i=Object(m.a)(o,2),a=i[0],c=i[1],s=Object(x.useState)(!1),l=Object(m.a)(s,2),u=l[0],d=l[1],p=Object(x.useState)(""),b=Object(m.a)(p,2),h=b[0],f=b[1],g=Object(x.useState)(""),j=Object(m.a)(g,2),v=j[0],k=j[1],y=Object(x.useState)(new G(v)),N=Object(m.a)(y,2),S=N[0],_=N[1],I=Object(x.useState)(!1),L=Object(m.a)(I,2),q=L[0],B=L[1],J=Object(x.useRef)(null);Object(x.useEffect)((function(){!1===u&&!1===a&&f(""),!0===u&&f("handle_preview"),!0===a&&f("handle_focus")}),[u,a]),Object(x.useEffect)((function(){_(new G(v))}),[v]);var V=function(){var n=document.getElementById("contentEl");t(n.innerHTML)},Q=function(){var n=Object(w.a)(O.a.mark((function n(){var t,o,i,a,c,s,l;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=J.current.value,o=document.getElementById("contentEl").innerText,console.log(o),t||o){n.next=5;break}return n.abrupt("return",C.b.warning("\u8bf7\u586b\u5199\u6807\u9898\u6216\u5185\u5bb9"));case 5:return i={title:t,username:r,content:o,share:q},n.next=9,fn(i);case 9:a=n.sent,c=a.code,s=a.msg,l=a.data,0===c?C.b.success(s,.5,(function(){e.replace("/")})):C.b.warning(l.msg);case 14:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(W.jsxs)(T,{children:[Object(W.jsxs)(z,{children:[Object(W.jsx)(A,{children:Object(W.jsx)("input",{type:"text",placeholder:"\u8f93\u5165\u6587\u7ae0\u6807\u9898",ref:J})}),Object(W.jsxs)(R,{children:[Object(W.jsx)(X,{handleShare:function(){B((function(n){return!n}))},share:q}),Object(W.jsx)(E.a,{className:"back-button",onClick:function(){e.replace("/")},children:"\u8fd4\u56de\u4e3b\u9875"}),Object(W.jsx)(E.a,{type:"primary",className:"post-button",onClick:Q,children:"\u53d1\u5e03\u6587\u7ae0"}),Object(W.jsx)("div",{className:"avatar"})]})]}),Object(W.jsx)(H,{children:Z.map((function(n){return Object(W.jsx)("div",{className:"iconfont "+n.icon,onMouseDown:S[n.fn],onClick:V})}))}),Object(W.jsxs)(D,{children:[Object(W.jsxs)(U,{className:h,children:[Object(W.jsx)(K,{editFocus:a,editContent:function(n){k(n)}}),Object(W.jsx)(M,{className:"footer-left",children:Object(W.jsx)("div",{className:"footer-button footer-button-left",onClick:function(){return c((function(n){return!n}))},children:"\u4e13\u6ce8\u6a21\u5f0f"})})]}),Object(W.jsxs)(F,{children:[Object(W.jsx)(P,{preview:u}),Object(W.jsx)(M,{className:"footer-right",children:Object(W.jsx)("div",{className:"footer-button footer-button-right",onClick:function(){return d((function(n){return!n}))},children:"\u9884\u89c8\u6a21\u5f0f"})})]})]})]})})),Ln=I.a.div(_n||(_n=Object(_.a)(["\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    background-color: black;\n"]))),Tn={width:"400px",position:"fixed",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},zn={textAlign:"center"},An=t(243),Rn=t(244),qn=t(248),Hn=t(247),Dn=Object(V.b)(null,(function(n){return{handleLogin:function(e){var t=S(e);n(t)}}}))((function(n){var e=n.handleChange,t=n.handleLogin,r=Object(En.f)(),o=function(){var n=Object(w.a)(O.a.mark((function n(e){var o,i,a;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,sn(e);case 2:o=n.sent,i=o.code,a=o.data,0===i?(tn(a.token),rn(),t(a.username),r.replace("/")):C.b.error(a.msg);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(W.jsxs)(An.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:o,style:Tn,children:[Object(W.jsx)(An.a.Item,{name:"email",rules:[{type:"email",message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u90ae\u7bb1\u683c\u5f0f"},{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u90ae\u7bb1"}],children:Object(W.jsx)(Rn.a,{prefix:Object(W.jsx)(qn.a,{className:"site-form-item-icon"}),placeholder:"Email"})}),Object(W.jsx)(An.a.Item,{name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}],children:Object(W.jsx)(Rn.a,{prefix:Object(W.jsx)(Hn.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),Object(W.jsxs)(An.a.Item,{style:zn,children:[Object(W.jsx)(E.a,{type:"primary",htmlType:"submit",className:"login-form-button",style:{display:"inline-block",width:"160px"},children:"\u767b\u5f55"}),Object(W.jsx)("div",{style:{margin:"20px 0px"},onClick:e,children:Object(W.jsx)(j.b,{children:"\u53bb\u6ce8\u518c"})})]})]})})),Un=t(241),Fn=t(242),Mn=t(246),Bn=Object(V.b)(null,(function(n){return{handleLogin:function(e){var t=S(e);n(t)}}}))((function(n){var e=n.handleChange,t=n.handleLogin,r=Object(En.f)(),o=An.a.useForm(),i=Object(m.a)(o,1)[0],a=function(){var n=Object(w.a)(O.a.mark((function n(e){var o,i,a;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,pn(e);case 2:o=n.sent,i=o.code,a=o.data,0===i?(tn(a.token),rn(),t(a.username),r.replace("/")):C.b.error(a.msg);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),c=function(){var n=Object(w.a)(O.a.mark((function n(){var e,t,r,o,a;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=i.getFieldValue("email"),n.next=3,un({email:e});case 3:t=n.sent,r=t.code,o=t.msg,a=t.data,0===r?C.b.success(o):C.b.error(a.msg);case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(W.jsxs)(An.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:a,style:Tn,form:i,children:[Object(W.jsx)(An.a.Item,{name:"username",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"}],children:Object(W.jsx)(Rn.a,{prefix:Object(W.jsx)(qn.a,{className:"site-form-item-icon"}),placeholder:"Username"})}),Object(W.jsx)(An.a.Item,{name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}],children:Object(W.jsx)(Rn.a,{prefix:Object(W.jsx)(Hn.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),Object(W.jsx)(An.a.Item,{name:"email",rules:[{type:"email",message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u90ae\u7bb1\u683c\u5f0f"},{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u90ae\u7bb1"}],children:Object(W.jsx)(Rn.a,{prefix:Object(W.jsx)(Mn.a,{className:"site-form-item-icon"}),placeholder:"Email"})}),Object(W.jsx)(An.a.Item,{label:"\u9a8c\u8bc1\u7801",extra:"We must make sure that your are a human.",children:Object(W.jsxs)(Un.a,{gutter:8,children:[Object(W.jsx)(Fn.a,{span:12,children:Object(W.jsx)(An.a.Item,{name:"captcha",noStyle:!0,rules:[{required:!0,message:"Please input the captcha you got!"}],children:Object(W.jsx)(Rn.a,{})})}),Object(W.jsx)(Fn.a,{span:12,children:Object(W.jsx)(E.a,{onClick:c,children:"\u83b7\u53d6\u9a8c\u8bc1\u7801"})})]})}),Object(W.jsxs)(An.a.Item,{style:zn,children:[Object(W.jsx)(E.a,{type:"primary",htmlType:"submit",className:"login-form-button",style:{display:"inline-block",width:"160px"},children:"\u6ce8\u518c"}),Object(W.jsx)("div",{style:{margin:"20px 0px"},onClick:e,children:Object(W.jsx)(j.b,{children:"\u53bb\u767b\u9646"})})]})]})}));var Jn,Vn,Wn=Object(V.b)(null,(function(n){return{storeUsername:function(e){var t=S(e);n(t)}}}))((function(n){var e=n.storeUsername,t=Object(En.f)();Object(x.useEffect)((function(){function n(){return(n=Object(w.a)(O.a.mark((function n(){var r,o,i;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,hn();case 2:r=n.sent,o=r.code,i=r.data,r.msg,0===o&&(e(i.username),t.replace("/"));case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return rn(),function(){n.apply(this,arguments)}(),function(){C.b.success("\u5df2\u767b\u5f55")}}),[]);var r=Object(x.useState)(!0),o=Object(m.a)(r,2),i=o[0],a=o[1],c=function(){a((function(){return!i}))};return Object(W.jsx)(Ln,{children:i?Object(W.jsx)(Dn,{handleChange:c}):Object(W.jsx)(Bn,{handleChange:c})})})),Kn=I.a.div(Jn||(Jn=Object(_.a)(["\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    /* background-color: pink; */\n    min-width: 1000px;\n\n    &::-webkit-scrollbar {\n        width: 7px;\n    }\n\n    &::-webkit-scrollbar-thumb {\n        width: 7px;\n        border-radius: 5px;\n        -webkit-box-shadow: inset 0 0 5px rgba(0,0,0,0.1);\n        background: rgba(0,0,0,0.1);\n        /* scrollbar-arrow-color:red; */\n    }\n\n    &::-webkit-scrollbar-track {    /*\u6eda\u52a8\u6761\u91cc\u9762\u8f68\u9053*/\n       \n        /* -webkit-box-shadow: inset 0 0 5px rgba(0,0,0,0.2); */\n        border-radius: 0;\n        background: #eee;\n    }\n\n    & .back {\n        position:fixed;\n        top: 30px;\n        left: 50px;\n    }\n"]))),Pn=I.a.div(Vn||(Vn=Object(_.a)(['\n    position: relative;\n    /* height: 100%; */\n    width: 70%;\n    background-color: white;\n    margin: 0px auto;\n\n    \n\n    & .title {\n        position: relative;\n        height: 80px;\n        width: 100%;\n        text-align: center;\n        font-size: 50px;\n        color: #6f9fc7;\n        margin: 20px 0px 5px 0px;\n    }\n    \n    & .share {\n        display: flex;\n        justify-content: center;\n    }\n\n    & .content {\n        margin: 50px 0px;\n\n        & blockquote {\n            background-color: #f3f3f3;\n            border-radius: 5px;\n            box-sizing: border-box;\n            padding: 20px 0px 15px 30px;\n            display: block;\n        }\n\n        & hr {\n            width: 100%;\n            height: 2px;\n            background-color: #f4f4f4;\n            border: none;\n            margin-top: 20px;\n            margin-bottom: 20px;\n        }\n\n        & .code {\n            background-color: yellow;\n        }\n\n        & .code-block {\n            background-color: rgba(0,0,0,0.8);\n            margin: auto;\n            width: 80%;\n            line-height: 40px;\n            padding: 20px 20px 10px 20px;\n            border-radius: 5px;\n            font-family: "STHeiti";\n            color: white;\n        }\n    }\n'])));var Xn,Qn,Yn,Gn,Zn,$n,ne,ee,te=Object(V.b)((function(n){return{renderContent:n.editContent}}),(function(n){return{upLoadData:function(e){var t=N(e);n(t)}}}))((function(n){var e=Object(En.g)().id,t=n.upLoadData,r=n.renderContent,o=Object(x.useState)(""),i=Object(m.a)(o,2),a=i[0],c=i[1],s=Object(x.useState)(""),l=Object(m.a)(s,2),u=(l[0],l[1]),d=Object(x.useState)(!1),p=Object(m.a)(d,2),b=p[0],h=p[1],f=Object(En.f)();Object(x.useEffect)((function(){(function(){var n=Object(w.a)(O.a.mark((function n(e){var r,o,i;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(e),n.next=3,vn(e);case 3:r=n.sent,o=r.code,r.msg,i=r.data,0===o?(u((function(n){return i.content})),c((function(n){return i.title})),h(i.share),t(i.content)):C.b.warning(i.msg);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}})()(e)}),[]);var g=function(){var n=Object(w.a)(O.a.mark((function n(){var t,r;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,hn();case 2:t=n.sent,1===(r=t.code)&&C.b.warning("\u5c1a\u672a\u767b\u5f55\uff0c\u4e0d\u53ef\u7f16\u8f91"),0===r&&f.replace("/cooperation/"+e);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(W.jsxs)(Kn,{children:[Object(W.jsx)(E.a,{className:"back",type:"primary",onClick:function(){f.replace("/")},children:"\u8fd4\u56de\u4e3b\u9875"}),Object(W.jsxs)(Pn,{children:[Object(W.jsx)("div",{className:"title",children:a}),b?Object(W.jsx)("div",{className:"share",children:Object(W.jsx)(E.a,{type:"primary",onClick:g,children:"\u534f\u4f5c\u7f16\u8f91"})}):"",Object(W.jsx)("div",{className:"content",dangerouslySetInnerHTML:{__html:r}})]})]})})),re=I.a.div(Xn||(Xn=Object(_.a)(["\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    overflow: hidden;\n"]))),oe=I.a.div(Qn||(Qn=Object(_.a)(["\n    position: relative;\n    height: 100%;\n    background-color: black;\n    overflow: hidden;\n    float: left;\n    transition: all .4s ease;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n\n    &.slide_show {\n        width: 200px;\n    }\n\n    &.slide_hidden {\n        width: 0px;\n    }\n\n    & .login-button {\n        background-color: black;\n        border: none;\n        color: #61dafb;\n        font-weight: 600;\n    }\n    & .login-button:hover{\n        background-color: #61dafb;\n        color: white;\n    }\n\n    & .edit-button {\n        color: #61dafb;\n        margin: 20px;\n        font-size: 12px;\n        cursor: pointer;\n        width: 200px;\n        text-align: center;\n    }\n"]))),ie=I.a.div(Yn||(Yn=Object(_.a)(["\n    position: fixed;\n    top: 20px;\n    left: 30px;\n    height: 30px;\n    width: 30px;\n    background-color: black;\n    z-index: 10;\n    cursor: pointer;\n    box-shadow: 0px 0px 5px rgba(0, 0, 0, .6);\n\n    &.slide_show .button-line{\n        background-color: #61dafb;\n    }\n\n    &.slide_hidden .button-line {\n        background-color: white;\n    }\n\n    & .button-line {\n        height: 2px; \n        width: 20px;\n        \n        transition: all .4 ease;\n        position: absolute;\n        left: 5px;\n        transition: all .4s ease\n    }\n\n    & #button-top {\n        top: 6px;\n    }\n    & #button-middle {\n        top: 14px;\n    }\n    & #button-bottom {\n        top: 22px;\n    }\n"]))),ae=I.a.div(Gn||(Gn=Object(_.a)(["\n    height: 100%;\n    position: relative;\n    overflow: hidden;\n    overflow-y: scroll;\n\n    &::-webkit-scrollbar {\n        width: 3px;\n    }\n\n    &::-webkit-scrollbar-thumb {\n        width: 7px;\n        border-radius: 5px;\n        -webkit-box-shadow: inset 0 0 5px rgba(0,0,0,0.1);\n        background: rgba(0,0,0,0.1);\n        /* scrollbar-arrow-color:red; */\n    }\n\n    &::-webkit-scrollbar-track {    /*\u6eda\u52a8\u6761\u91cc\u9762\u8f68\u9053*/\n       \n        /* -webkit-box-shadow: inset 0 0 5px rgba(0,0,0,0.2); */\n        border-radius: 0;\n        background: #eee;\n    }\n"]))),ce=I.a.div(Zn||(Zn=Object(_.a)(["\n    height: 100%;\n    position: relative;\n    margin: 30px auto;\n    width: 700px;\n    background-color: white;\n"]))),se=I.a.div($n||($n=Object(_.a)(["\n    position: relative;\n    margin: 40px auto;\n    height: 80px;\n    width: 80px;\n    border-radius: 40px;\n    background-image: url(",");\n    background-position: center;\n    background-size: cover;\n    background-repeat: none;\n    overflow: hidden;\n    border: 1px #f8f8f8 solid;\n    box-shadow: 0px 0px 3px rgba(0, 0, 0, .4);\n    \n    /* \u5934\u50cf\u9634\u5f71\u5c42 */\n    & input{\n        position: absolute;\n        height: 100%;\n        width: 100%;\n        opacity: 0;\n        z-index: -1;\n    }\n\n    & .avatar-shadow {\n        position: absolute;\n        height: 100%;\n        width: 100%;\n        transition: all .3s ease;  \n        cursor: pointer;\n    }\n\n    & .avatar-shadow:hover {\n        background-color: rgba(0, 0, 0, .4);\n    }\n\n    & label div {\n        position: absolute;\n        bottom: 25px;\n        color: rgba(255, 255, 255, 0);\n        text-align: center;\n        width: 100%;\n        transition: all .3s ease;\n    }\n    & label:hover div {\n        color: rgba(255, 255, 255, .7);\n\n    }\n"])),L),le=I.a.div(ne||(ne=Object(_.a)(["\n    position: relative;\n    height: 10px;\n    width: 100%;\n    /* background-color: black; */\n"]))),ue=I.a.div(ee||(ee=Object(_.a)(["\n    position: relative;\n    height: 100px;\n    width: 100%;\n    /* background-color: black; */\n    /* border: 1px solid black; */\n    margin: 20px auto;\n\n    & .title {\n        margin: 10px 0px;\n        font-size: 27px;\n        color: #6f9fc7;\n        cursor: pointer;\n        transition: all .3s ease;\n        text-align: center;\n    }\n    & .title:hover {\n        color: skyblue;\n    }\n\n    & .article-config {\n        height: 20px;\n        width: 100%;\n        /* background-color: black; */\n        font-size: 10px;\n        text-align: center;\n        font-weight: 600;\n\n\n        & span {\n            background-color: #4fc08d;\n            font-weight: 600;\n            font-size: 9px;\n            color: whitesmoke;\n            margin: 0px 5px;\n            display: inline-block;\n        }\n    }\n    \n"])));var de=function(n){var e=n.slide,t=n.auth,r=(n.setAuth,Object(En.f)());return Object(W.jsxs)(oe,{className:e?"slide_show":"slide_hidden",children:[Object(W.jsx)(E.a,{className:"login-button",onClick:function(){t?(window.localStorage.removeItem(en),rn(),window.location.href="/"):r.replace("/sign")},children:t?"\u9000\u51fa\u767b\u5f55":"\u53bb\u767b\u9646"}),Object(W.jsx)("div",{className:"edit-button",onClick:function(){r.replace("/edit")},children:"\u5199\u6587\u7ae0"})]})},pe=function(){var n=Object(w.a)(O.a.mark((function n(e){var t,r,o,i;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,hn();case 2:if(t=n.sent,console.log(t),1!==t.code){n.next=6;break}return n.abrupt("return",C.b.warning(t.data.msg));case 6:return r=e.target.files,console.log(r),console.log(r[0]),(o=new FormData).append("upImg",r[0]),console.log(o.get("upImg")),n.next=14,Sn(o);case 14:0===(i=n.sent).code&&C.b.success(i.msg,.5,(function(){window.location.href="/"}));case 16:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();var be=function(){var n=Object(x.useState)([]),e=Object(m.a)(n,2),t=e[0],r=e[1],o=Object(En.f)();return Object(x.useEffect)((function(){(function(){var n=Object(w.a)(O.a.mark((function n(){var e,t,o;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,jn();case 2:e=n.sent,t=e.code,o=e.data,0===t&&r(o),1===t&&C.b.error(o.msg);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()()}),[]),Object(W.jsx)(ae,{children:Object(W.jsxs)(ce,{children:[Object(W.jsxs)(se,{id:"avatar",children:[Object(W.jsx)("label",{htmlFor:"file",className:"avatar-shadow",children:Object(W.jsx)("div",{className:"label-tip",children:"\u66f4\u6362\u5934\u50cf"})}),Object(W.jsx)("input",{type:"file",id:"file",onChange:pe})]}),Object(W.jsx)(le,{children:t.map((function(n,e){return Object(W.jsxs)(ue,{children:[Object(W.jsx)("div",{className:"title",onClick:function(){return e=n._id,void o.replace("/article/"+e);var e},children:n.title}),Object(W.jsxs)("div",{className:"article-config",children:[n.username,n.share?Object(W.jsx)("span",{children:"\u5171\u4eab"}):""]})]},e)}))})]})})};var he=Object(V.b)(null,(function(n){return{storeUser:function(e){var t=S(e);n(t)}}}))((function(n){var e=n.storeUser,t=Object(x.useState)(!1),r=Object(m.a)(t,2),o=r[0],i=r[1],a=Object(x.useState)(!1),c=Object(m.a)(a,2),s=c[0],l=c[1];return Object(x.useEffect)((function(){function n(){return(n=Object(w.a)(O.a.mark((function n(){var t,r,o,i,a;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,hn();case 2:if(t=n.sent,r=t.code,o=t.data,0!==r){n.next=16;break}return i=o.username,console.log(i),e(i),l(!0),n.next=12,yn();case 12:0===(a=n.sent).code&&""!==a.data.url&&(console.log(a.data.url),document.getElementById("avatar").style.backgroundImage="url(".concat(an+a.data.url,")")),n.next=17;break;case 16:l(!1);case 17:case"end":return n.stop()}}),n)})))).apply(this,arguments)}rn(),function(){n.apply(this,arguments)}()}),[s]),Object(W.jsxs)(re,{children:[Object(W.jsxs)(ie,{onClick:function(){i((function(n){return!n}))},className:o?"slide_show":"slide_hidden",children:[Object(W.jsx)("div",{className:"button-line",id:"button-top"}),Object(W.jsx)("div",{className:"button-line",id:"button-middle"}),Object(W.jsx)("div",{className:"button-line",id:"button-bottom"})]}),Object(W.jsx)(de,{slide:o,auth:s,setAuth:l}),Object(W.jsx)(be,{})]})}));var xe,fe,ge,je,me,ve,Oe,we,ke,ye,Ne,Se,Ce=function(){return Object(W.jsx)("div",{children:"404 not found"})};console.log(L);var Ee=I.a.div(xe||(xe=Object(_.a)(["\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    /* background-color: black; */\n    overflow: hidden;\n    box-sizing: border-box;\n    min-width: 1000px;\n"]))),_e=I.a.div(fe||(fe=Object(_.a)(["\n    position: relative;\n    height: 60px;\n    width: 100%;\n    /* background-color: pink; */\n    display: flex;\n    align-items: center;\n"]))),Ie=(I.a.div(ge||(ge=Object(_.a)(["\n    height: 50px;\n    width: 470px;\n    /* background-color: yellow; */\n    position: absolute;\n    left: 50px;\n    /* border-bottom: 2px solid #ccc; */\n\n    & input {\n        position: relative;\n        height: 100%;\n        width: 100%;\n        border: none;\n        outline: none;\n        font-size: 30px;\n        &::placeholder {\n            color: #ccc;\n        }\n    }\n"]))),I.a.div(je||(je=Object(_.a)(["\n    height: 50px;\n    width: 470px;\n    position: absolute;\n    right : 50px;\n    /* background-color: pink; */\n    display: flex;\n    align-items: center;\n\n    & .back-button {\n        position: absolute;\n        right: 150px;\n        height: 40px;\n        border-radius: 5px;\n        margin: 0px 20px;\n    }\n\n    & .post-button {\n        position: absolute;\n        height: 40px;\n        border-radius: 5px;\n        margin: 0px 10px;\n        right: 50px;\n    }\n\n    & .avatar {\n        position: absolute;\n        right: 0px;\n        height: 40px;\n        width: 40px;\n        border-radius: 20px;\n        background-position: center center;\n        background-repeat: none;\n        background-image: url(",");\n        background-size: cover;\n    }\n"])),L)),Le=(I.a.div(me||(me=Object(_.a)(["\n    position: absolute;\n    right: 270px;\n    height: 40px;\n    width: 150px;\n    /* background-color: pink; */\n    display: flex;\n    align-items: center;\n    \n\n    & .button-label {\n        font-weight: 600;\n        margin: 0px 10px;\n    }\n\n    & .button-background {\n        position: relative;\n        height: 25px;\n        width: 50px;\n        border-radius: 12.5px;\n        border: 1px solid #ccc;\n        \n        display: flex;\n        align-items: center;\n        cursor: pointer;\n        transition: all .4s ease;\n    }\n\n    & .button-background_unshare {\n        background-color: white;\n        box-shadow: 0px 0px 2px rgba(0, 0, 0, .7);\n    }\n\n    & .button-background_share {\n        background-color: #FFA119;\n        box-shadow: 0px 0px 1px rgba(0, 0, 0, .7);\n    }\n\n    & .button-ball {\n        position: absolute;\n        height: 28px;\n        width: 28px;\n        border: 1px solid #ccc;\n        box-shadow: 3px 0px 3px rgba(0, 0, 0, .1);\n        border-radius: 14px;\n        background-color: white;\n        transition: all .4s ease;\n    }\n\n    & .button-ball_unshare {\n        left: -2px;   \n    }\n\n    & .button-ball_share {\n        left: 27px;   \n    }\n"]))),I.a.div(ve||(ve=Object(_.a)(["\n    position: relative;\n    height: 40px;\n    width: 100%;\n    background-color: #f8f8f8;\n    display: flex;\n    align-items: center;\n    border-bottom: 1px solid #ccc;\n    & .iconfont {\n        margin: 0px 20px;\n        cursor: pointer;\n    }\n"])))),Te=I.a.div(Oe||(Oe=Object(_.a)(["\n    position: absolute;\n    top: 100px;\n    bottom: 0px;\n    left: 0px;\n    right: 0px;\n    margin: auto;\n    background: #ccc;\n"]))),ze=I.a.div(we||(we=Object(_.a)(["\n    position: relative;\n    height: 100%;\n    width: 50%;\n    background-color: #f8f8f8;\n    float: left;\n    overflow: hidden;\n    transition: all .4s ease;\n    border-right: 2px solid #ccc;\n    &.handle_focus {\n        width: 100% !important;\n    }\n\n    &.handle_preview {\n        width: 0%;\n    }\n"]))),Ae=I.a.div(ke||(ke=Object(_.a)(["\n    position: relative;\n    height: 100%;\n    background-color: white;\n    overflow: hidden;\n"]))),Re=I.a.div(ye||(ye=Object(_.a)(["\n    position: absolute;\n    height: 30px;\n    width: 100%;\n    bottom: 0px;\n    background-color: white;\n    border-top: 1px solid #ddd;\n\n    /* &.footer-left {\n        border-right: 1px solid #ddd;\n    }\n\n    &.footer-right {\n        border-left: 1px solid #ddd;\n    } */\n\n    & .footer-button {\n        height: 100%;\n        width: 80px;\n        text-align: center;\n        line-height: 30px;\n        font-size: 14px;\n        cursor: pointer;\n    }\n\n    & .footer-button-left {\n        position: absolute;\n        right: 10px;\n    }\n\n    & .footer-button-right {\n        position: absolute;\n        left: 10px;\n    }\n"]))),qe=I.a.div(Ne||(Ne=Object(_.a)(["\n    position: absolute;\n    top: 0;\n    bottom: 30px;\n    left: 0px;\n    right: 0px;\n    margin: auto;\n    /* background-color: pink; */\n    /* overflow-y: scroll; */\n    outline: none;\n    box-sizing: border-box;\n    overflow-x: hidden;\n    padding: 10px 20px;\n    transition: padding .4s ease;\n    &.content-focus {\n        padding: 30px 150px;\n        /* text-align: center; */\n    }\n\n\n\n    &::-webkit-scrollbar {\n        width: 7px;\n    }\n\n    &::-webkit-scrollbar-thumb {\n        width: 7px;\n        border-radius: 5px;\n        -webkit-box-shadow: inset 0 0 5px rgba(0,0,0,0.1);\n        background: rgba(0,0,0,0.1);\n        /* scrollbar-arrow-color:red; */\n    }\n\n    &::-webkit-scrollbar-track {    /*\u6eda\u52a8\u6761\u91cc\u9762\u8f68\u9053*/\n       \n        /* -webkit-box-shadow: inset 0 0 5px rgba(0,0,0,0.2); */\n        border-radius: 0;\n        background: #eee;\n    }\n"]))),He=I.a.div(Se||(Se=Object(_.a)(['\n    position: absolute;\n    top: 0;\n    bottom: 30px;\n    left: 0px;\n    right: 0px;\n    margin: auto;\n    outline: none;\n    box-sizing: border-box;\n    overflow-x: hidden;\n    padding: 10px 20px;\n    transition: padding .4s ease;\n    word-wrap: break-word;\n\n\n    &.content-preview {\n        padding: 30px 150px;\n        /* text-align: center; */\n    }\n\n    &::-webkit-scrollbar {\n        width: 7px;\n    }\n\n    &::-webkit-scrollbar-thumb {\n        width: 7px;\n        border-radius: 5px;\n        -webkit-box-shadow: inset 0 0 5px rgba(0,0,0,0.1);\n        background: rgba(0,0,0,0.1);\n\n    }\n\n    &::-webkit-scrollbar-track {    \n        border-radius: 0;\n        background: #eee;\n    }\n\n    & blockquote {\n        background-color: #f3f3f3;\n        border-radius: 5px;\n        box-sizing: border-box;\n        padding: 20px 0px 15px 30px;\n        display: block;\n    }\n\n    & hr {\n        width: 100%;\n        height: 2px;\n        background-color: #f4f4f4;\n        border: none;\n        margin-top: 20px;\n        margin-bottom: 20px;\n    }\n\n    & .code {\n        background-color: yellow;\n    }\n\n    & .code-block {\n        background-color: rgba(0,0,0,0.8);\n        margin: auto;\n        width: 80%;\n        line-height: 40px;\n        padding: 20px 20px 10px 20px;\n        border-radius: 5px;\n        font-family: "STHeiti";\n        color: white;\n    }\n\n'])));var De=Object(V.b)(null,(function(n){return{updateEdit:function(e){var t=N(e);n(t)}}}))((function(n){var e=n.setUsername,t=n.editFocus,r=n.updateEdit,o=n.editContent,i=Object(En.g)().id,a=Object(x.useRef)(null);return Object(x.useEffect)((function(){(function(){var n=Object(w.a)(O.a.mark((function n(){var t,o,c,s;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,vn(i);case 2:t=n.sent,console.log(t),o=t.data,c=o.username,s=o.content,console.log(c,s),e(c),a.current.innerText=s,r(s);case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()()}),[]),Object(W.jsx)(qe,{contentEditable:"true",className:t?"content-focus":"",onKeyUp:function(n){var e=a.current.innerText;if(9===n.keyCode){n.preventDefault();var t=n.view.getSelection().getRangeAt(0),i=t.startOffset,c=document.createElement("span");c.innerHTML="&nbsp;&nbsp;&nbsp;";var s=document.createRange();s.setStart(t.startContainer,i),s.setEnd(t.startContainer,i),s.collapse(!0),s.insertNode(c),n.view.getSelection().removeAllRanges(),n.view.getSelection().addRange(t),t.setStart(c,1),t.setEnd(c,1),console.log(e)}o(e),r(e)},onKeyDown:function(n){9===n.keyCode&&n.preventDefault()},ref:a,id:"contentEl"})}));var Ue=Object(V.b)((function(n){return{content:n.editContent}}),null)((function(n){var e=n.preview,t=n.content,r=Object(x.useRef)(null);return Object(x.useEffect)((function(){r.current.innerHTML=""===t?null:t})),Object(W.jsx)(He,{className:e?"content-preview":"",ref:r})}));var Fe=[{path:"/",exact:!0,component:he},{path:"/edit",exact:!0,component:In},{path:"/sign",exact:!0,component:Wn},{path:"/article/:id",exact:!0,component:te},{path:"/cooperation/:id",exact:!0,component:Object(V.b)((function(n){return{User:n.username}}),(function(n){return{update:function(e){var t=N(e);n(t)}}}))((function(n){var e=Object(En.f)(),t=Object(En.g)().id;Object(x.useEffect)((function(){function n(){return(n=Object(w.a)(O.a.mark((function n(){var t,r,o,i;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,hn();case 2:if(t=n.sent,r=t.code,t.msg,o=t.data,1!==r){n.next=10;break}C.b.warning(o.msg,1,(function(){e.replace("/")})),n.next=14;break;case 10:return n.next=12,yn();case 12:""!==(i=n.sent).data.url&&(document.querySelector(".avatar").style.backgroundImage="url(".concat(an+i.data.url,")"));case 14:case"end":return n.stop()}}),n)})))).apply(this,arguments)}rn(),function(){n.apply(this,arguments)}()}),[]);var r=n.update,o=(n.User,Object(x.useState)(!1)),i=Object(m.a)(o,2),a=i[0],c=i[1],s=Object(x.useState)(!1),l=Object(m.a)(s,2),u=l[0],d=l[1],p=Object(x.useState)(""),b=Object(m.a)(p,2),h=b[0],f=b[1],g=Object(x.useState)(""),j=Object(m.a)(g,2),v=j[0],k=j[1],y=Object(x.useState)(new G(v)),N=Object(m.a)(y,2),S=N[0],_=N[1],I=Object(x.useState)(""),L=Object(m.a)(I,2),T=L[0],z=L[1];Object(x.useRef)(null),Object(x.useEffect)((function(){!1===u&&!1===a&&f(""),!0===u&&f("handle_preview"),!0===a&&f("handle_focus")}),[u,a]),Object(x.useEffect)((function(){_(new G(v))}),[v]);var A=function(){var n=document.getElementById("contentEl");r(n.innerHTML)},R=function(){var n=Object(w.a)(O.a.mark((function n(){var r,o,i,a,c,s;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=document.getElementById("contentEl").innerText,o={username:T,content:r,id:t},n.next=4,wn(o);case 4:i=n.sent,a=i.code,c=i.msg,s=i.data,console.log(c),0===a?C.b.success(c,.5,(function(){e.replace("/")})):C.b.warning(s.msg);case 10:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(W.jsxs)(Ee,{children:[Object(W.jsx)(_e,{children:Object(W.jsxs)(Ie,{children:[Object(W.jsx)(E.a,{className:"back-button",onClick:function(){e.replace("/")},children:"\u8fd4\u56de\u4e3b\u9875"}),Object(W.jsx)(E.a,{type:"primary",className:"post-button",onClick:R,children:"\u66f4\u65b0\u6587\u7ae0"}),Object(W.jsx)("div",{className:"avatar"})]})}),Object(W.jsx)(Le,{children:Z.map((function(n){return Object(W.jsx)("div",{className:"iconfont "+n.icon,onMouseDown:S[n.fn],onClick:A})}))}),Object(W.jsxs)(Te,{children:[Object(W.jsxs)(ze,{className:h,children:[Object(W.jsx)(De,{editFocus:a,editContent:function(n){k(n)},setUsername:z}),Object(W.jsx)(Re,{className:"footer-left",children:Object(W.jsx)("div",{className:"footer-button footer-button-left",onClick:function(){return c((function(n){return!n}))},children:"\u4e13\u6ce8\u6a21\u5f0f"})})]}),Object(W.jsxs)(Ae,{children:[Object(W.jsx)(Ue,{preview:u}),Object(W.jsx)(Re,{className:"footer-right",children:Object(W.jsx)("div",{className:"footer-button footer-button-right",onClick:function(){return d((function(n){return!n}))},children:"\u9884\u89c8\u6a21\u5f0f"})})]})]})]})}))},{path:"/admin",external:!0,component:function(){var n=Object(x.useState)([]),e=Object(m.a)(n,2),t=e[0],r=e[1],o=Object(x.useState)([]),i=Object(m.a)(o,2),a=i[0],c=i[1];return Object(x.useEffect)((function(){!function(){var n=0,e=new WebSocket("ws://60.205.230.224:8080/");e.onopen=function(){e.send("open ws"),console.log("open ws")},e.onmessage=function(e){var t=e.data;0===n?(r(JSON.parse(t)),n=1):c((function(n){var e=JSON.parse(JSON.stringify(n));return e.push(t),e}))},e.onclose=function(){console.log("close ws")}}()}),[]),Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)("div",{id:"current",children:a.map((function(n,e){return Object(W.jsx)("div",{children:n},e)}))}),Object(W.jsx)("div",{id:"history",children:t.map((function(n,e){return Object(W.jsx)("div",{children:n},e)}))})]})}},{path:"*",component:Ce}],Me=t(133);var Be=function(){return Object(W.jsx)(j.a,{children:Object(Me.a)(Fe)})},Je=t(64),Ve=function(){function n(e){Object(Q.a)(this,n),this.rules={isHeading:/^(#{1,6}\s*)/,isQuote:/^(\>\s+)/,isHr:/^(\*{3,}|-{3,})/,isCode:/^(```)/,isUnOrderList:/^((\*|-){1}\s+)/,isOrderList:/^(\d{1}.\s+)/,isCodeWord:/\`{1}(.*?)\`{1}/g,isImage:/\!\[(.*?)\]\((.*?)\)/g,isStrong:/\*{2}(.*?)\*{2}/g,isLink:/\[(.*?)\]\((.*?)\)/g,isEm:/\*{1}(.*?)\*{1}/g},this.lines=e.split("\n");var t=this.parse();this.htmlContent=this.tokensToHTML(t)}return Object(Y.a)(n,[{key:"parse",value:function(){for(var n=[],e=0;this.judgeCycle(e);){var t=this.lines[e];if(""!==t){if(this.rules.isHeading.test(t)){for(var r=0;"#"===t[r];)r++;if(" "===t[r]){var o=t.slice(r+1),i="<h".concat(r,">").concat(o,"</h").concat(r,">");n.push(i),e++;continue}}if(this.rules.isQuote.test(t)&&" "===t[1]){var a=t.slice(2);a="<p>".concat(a,"</p>");for(var c=this.lines[e+1];this.rules.isQuote.test(c)&&" "===c[1];)a+="<p>".concat(c.slice(2),"</p>"),e++,c=this.lines[e+1];n.push("<blockquote>".concat(a,"</blockquote>")),e++}else if(this.rules.isHr.test(t)&&3===t.length)n.push("<hr/>"),e++;else if(this.rules.isCode.test(t)){for(var s="<pre><code>",l=this.lines[e+1];!this.rules.isCode.test(l)&&this.judgeCycle(e+1);){var u=document.createElement("div");u.innerText=l,s+=u.innerHTML+"\n",e++,l=this.lines[e+1]}s='<div class="code-block">'.concat(s,"</code></pre></div>"),n.push(s),e+=2}else if(this.rules.isUnOrderList.test(t)){for(var d="<li>".concat(t.slice(2),"</li>"),p=this.lines[e+1];this.rules.isUnOrderList.test(p);)d+="<li>".concat(p.slice(2),"</li>\n"),e++,p=this.lines[e+1];d="<ul>".concat(d,"</ul>\n"),n.push(d),e++}else if(this.rules.isOrderList.test(t)){for(var b="<li>".concat(t.replace(this.rules.isOrderList,""),"</li>"),h=this.lines[e+1];this.rules.isOrderList.test(h);)b+="<li>".concat(h.replace(this.rules.isOrderList,""),"</li>\n"),e++,h=this.lines[e+1];b="<ol>".concat(b,"</ol>"),n.push(b),e++}else t=this.parseInline(t),n.push("<p>".concat(t,"</p>")),e++}else n.push("<br/>"),e++}return n}},{key:"parseInline",value:function(n){return this.rules.isCodeWord.test(n)&&(n=n.replace(this.rules.isCodeWord,(function(n,e){return'<code class="code">'.concat(e,"</code>")}))),this.rules.isImage.test(n)&&(n=n.replace(this.rules.isImage,(function(n,e,t){return"<div><img src=".concat(t," alt=").concat(e,"></div>")}))),this.rules.isStrong.test(n)&&(n=n.replace(this.rules.isStrong,(function(n,e){return"<b>".concat(e,"</b>")}))),this.rules.isLink.test(n)&&(n=n.replace(this.rules.isLink,(function(n,e,t){return"<a href=".concat(t,">").concat(e,"</a>")}))),this.rules.isEm.test(n)&&(n=n.replace(this.rules.isEm,(function(n,e){return"<em>".concat(e,"</em>")}))),n}},{key:"judgeCycle",value:function(n){return n<this.lines.length}},{key:"tokensToHTML",value:function(n){return n.join("")}}]),n}(),We={editContent:"",username:""},Ke=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,e=arguments.length>1?arguments[1]:void 0;if(e.type===k){var t=JSON.parse(JSON.stringify(n)),r=new Ve(e.text);return t.editContent=r.htmlContent,t}if(e.type===y){var o=JSON.parse(JSON.stringify(n));return o.username=e.username,o}return n},Pe=Object(Je.b)(Ke,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());t(237);g.a.render(Object(W.jsx)(V.a,{store:Pe,children:Object(W.jsx)(Be,{})}),document.getElementById("root"))}},[[238,1,2]]]);
//# sourceMappingURL=main.8c3f072a.chunk.js.map